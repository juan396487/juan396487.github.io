<style>

body {

font-family:century gothic;
font-size:14px;
background-image: linear-gradient(to bottom, #881755, #13011b);
background-attachment:fixed;
}

.flex {

    display:flex;

}

.tableWrapper {

margin:45px auto;
border-style:none;
border-color: #545454;
border-width: 6px 6px 22px 6px;
box-shadow:0px 0px 20px black;
max-width:75%;
}

.table {
display:flex;
flex-direction:column;
/* box-shadow: 0px 0px 5px #969696; */
min-height:300px;
max-height:500px;
overflow-y: scroll;
position:relative;
background-color: #451f63;
background-image: linear-gradient(to bottom, #451f63, #200d2e);
padding:10px;
}


.row {
display:flex;
flex-direction:row;
width:100%;
/*
background-color:#f3f3f3;
background-image: linear-gradient(to bottom, #ffffff, #e0e0e0);
*/
color:#5cb5d0;

}

.table .row {

margin-bottom:10px;

}
.table .row:hover {

cursor:pointer;

border-radius:20px;
    background-color: #44265d;
}

.cell {
display:flex;
flex-grow:1;
flex-basis:1px;
width:1px;
padding:10px;
align-items:center;
justify-content:center;
}

.cellData {
word-break: break-word;
flex-basis:1px;
flex-grow:1;
width:1px;
}

.headerRow {
background-color: #341050;;
/* background-image: linear-gradient(to bottom, #6effc9, #53c8ce); */
color:#94fba1;
font-weight:bold;

}

.headerRow .cell {


}

.headerRow .cell:last-child {
margin-right:5px;
}


.grid .row:last-child {
border-radius:0px 0px 5px 5px;
}

.grid .row:first-child {
border-radius:5px 5px 0px 0px ;
}

.selected {

background-color:#69408a;
border-radius:20px;
background-image: linear-gradient(to bottom, #36184e, #110323);
}

.selected:hover {

background-color:#69408a !important;
border-radius:20px;
}


/* width */
::-webkit-scrollbar {
  width: 5px;
}

/* Track */
::-webkit-scrollbar-track {
  background: silver; 
}

/* Handle */
::-webkit-scrollbar-thumb {
  background: #888; 
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #555; 
}

#logo {

display:block;
margin:0 auto;

}

input[name=api] {
display:block;
margin:0 auto;
padding:10px;
color:#4e4e4e;
border-radius:20px;
width:75%;
text-align:center;
}

input[name=api]:focus,
button:focus {
outline:none;
}


#generate {

margin: 16px auto;
    display: block;
    border-style: none;
    background-color: #63ffa8;
    border-radius: 20px;
    padding: 10px 40px;
    cursor: pointer;
    color: #1e4b61;
    font-weight: bold;

}

#generate:hover {

background-color: #b1fad2;
}

p {

text-align:center;
margin:20px auto;
color:white;
}

footer {

text-align: center;
    color: white;
    margin-bottom: 50px;

}

</style>











<img id='logo' src='easyGrid-logo.png' />
<p>Just feed it JSON data from any end point, its that easy! </p>
<input type='text' name='api' value='https://jsonplaceholder.typicode.com/users' placeholder='Enter API url'/>
<button id='generate' onclick='generateGrid()'>Generate Grid</button>

<div class='tableWrapper'>
    <div class='row headerRow'></div>
    <div class='table'></div>
</div>

<footer>
    Juan Avilez Sandoval<br>
    Full Stack Web Developer<br>
    Las Vegas, NV | (424)347-9369 | sandovaljuan427@gmail.com
</footer>


















<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script>



    $(document).on('mousedown', '.table .row', function() {
        $(this).addClass('selected');
        $(this).siblings().removeClass('selected');
    });



    $('input[name=api]').keydown(function(e) {
        if(e.which == 13) {
            generateGrid();
        }
     });



    function makeRow(rowData) {
        let rowHTML = '';
        rowHTML += "<div class='row'>";
        $.each(rowData, function(key,value) {
            if(typeof value !== 'object') {
                rowHTML += "<div class='cell'>";
                rowHTML += "<div class='cellData'>";
                rowHTML += value;
                rowHTML += "</div>";
                rowHTML += "</div>";
            }
        });
        rowHTML += "</div>";
        return rowHTML;
    }



    function makeHeaderRow(rowData) {
        let rowHTML = '';
        $.each(rowData, function(key,value) {
            if(typeof value !== 'object') {
            rowHTML += "<div class='cell'>";
            rowHTML += "<div class='cellData'>";
            rowHTML += key;
            rowHTML += "</div>";
            rowHTML += "</div>";
            }
        });
        return rowHTML;
    }



    function generateGrid() {
        let url = $('input[name=api]').val();
        $.get(url).done(function(data) { 
            if(typeof data !== 'object') { alert('Invalid JSON Data'); return; }
            let rows = '';
            $('.headerRow').html( makeHeaderRow(data[0]) );
                $.each(data, function(key,value) { 
                    rows += makeRow(value);
                } );
            $('.table').html(rows);
        }).fail(function() {
            alert('There was an error with the API end point. Please check the URL.');
        });
    }

    generateGrid();


</script>
